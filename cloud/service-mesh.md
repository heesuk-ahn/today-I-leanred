# Service Mesh

* 서비스 메시를 사용하는 가장 큰 이유?
  * 아마도 Secure 워크로드를 보호하기 위해
    * ISTIO는 서비스간 TLS 통신을 지원한다.
  * Next, 서비스를 동적으로 관리
    * 서비스 디스커버리
    * 서비스 간 트래픽 라우팅 관리 (세부적으로 조절 가능 %)
    * Retry
    * Circuit Breaker
  * 서비스 간 모니터링
    * end to end 서비스 통신간에 병목 지점 tracing 추적
    * 로그 수집
  * 컨트롤
    * 특정 서비스에 대해 사용권한이 있는 콜러를 제어할 수 있음
      * ex) UI는 직접적으로 Inventory와 통신할 수 없다
      * 좀 더 세부적으로 Inventory에 호출할 수 있는 API에 대한 제한, 메서드에 대한 제한 등..(내부에 프록시 컨테이너 Envoy가 L7 레이어기 때문에 가능)
* 어플리케이션은 작고 비즈니스 로직으로 유지하고 네트워크 레이어에서 서비스를 위한 다양한 이슈들을 처리한다. (모니터링, 트래픽 라우팅, 컨트롤, 보안..)
* 다양한 서비스 메시 서비스들이 있고 그 중에 하나가 ISTIO
* 서비스 메시는 Side car 패턴으로 구성된다.
  * 사이드 카 패턴이란, 별도의 프로세서로써 서비스 옆에서 통신하는 패턴이다
  * 모든 in-out 트래픽을 proxy가 받고 서비스로 넘겨준다
